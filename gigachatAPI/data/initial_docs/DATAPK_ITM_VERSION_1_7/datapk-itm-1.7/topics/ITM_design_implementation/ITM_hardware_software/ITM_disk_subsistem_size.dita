<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="ITM_disk_subsistem_size">
    <title>Оценка объема дисковой подсистемы</title>
    <body>
        <p>Объем данных в базах данных серверов ПК DATAPK ITM зависит от множества параметров работы
            серверов и может существенно отличаться в зависимости от конкретных настроек с учетом
            специфики проекта. Настоящая методика расчета может быть использована при проектировании
            систем, функционирующих в типовых рекомендованных режимах работы. </p>
        <section>
            <title>Сервер мониторинга ITM-K</title>
            <p>Для укрупненной оценки ожидаемого объема данных при проектировании сервера
                мониторинга DATAPK ITM-K можно использовать следующую формулу:</p>
            <p><b>Объем данных БД ITM-K (Мб) = (Ком*Кэд*Копр*220+Кп*1200)*Кд/1024/1024</b>, где:</p>
            <ul id="ul_nz3_ljm_dtb">
                <li><b>Ком</b> — количество ОМ.</li>
                <li><b>Кэд</b> — количество параметров мониторинга ОМ (элементов данных). Типовой
                    набор параметров мониторинга включает, как правило, до 10 элементов динамических
                    данных.</li>
                <li><b>Копр</b> — количество опросов значений параметров ОМ в сутки. По умолчанию,
                    агентный мониторинг осуществляется каждые 15 сек, т.е. Копр=5760, безагентный
                    мониторинг каждые 2 мин, т.е. Копр=720.</li>
                <li><b>Кп</b> — количество проблем (срабатываний триггеров) в сутки. В нормально
                    функционирующих системах количеством проблем обычно бывает не более 2% от общего
                    количества ОМ.</li>
                <li><b>Кд</b> — количество дней мониторинга. По умолчанию, история значений
                    контролируемых параметров очищается через 180 дней. После этого периода рост БД
                    существенно замедляется и составляет ориентировочно 10-20% в год.</li>
            </ul>
            <p><b>Пример расчета:</b></p>
            <p>Количество ОМ = 100. Агентным способом
                осуществляется мониторинг 50-ти и 50 безагентным. Хранение истории значений
                параметров = 180 дней.</p>
            <p><b>(50*10*5760+50*0,02*1200)*180/1024/1024 = 108 975,5 Мб</b></p>
            <p><b>(50*10*720+50*0,02*1200)*180/1024/1024 = 13 806,5 Мб</b></p>
            <p>Итого, ожидаемый объем данных в БД сервера = 122 782 Мб</p>
        </section>
        <section>
            <title>Сервер ITM-A</title>
            <p>Расчет ожидаемого объема данных в сервере DATAPK ITM-A
                осуществляется по формуле: </p>
            <p><b>Объем данных БД ITM-A (Мб) = Ком*Кэд*Копр*220*Кд/1024/1024</b></p>
            <p>Обозначения и смысл переменных аналогичны использующимся в формуле для сервера
                    DATAPK ITM-K.</p>
            <p><b>Пример расчета:</b></p>
            <p>Количество ОМ = 100. Агентным способом
                осуществляется мониторинг 50-ти и 50 безагентным. Хранение истории значений
                параметров = 3 дня (значение по умолчанию).</p>
            <p><b>50*10*5760*3/1024/1024 = 1 812,7 Мб</b></p>
            <p><b>50*10*720*180/1024/1024 = 226,6 Мб</b></p>
            
            <p>Итого, ожидаемый объем данных в БД сервера = 2 039,3 Мб</p>
        </section>
        <section>
            <title>Сервер визуализации и управления ITM-VM</title>
            <p>Расчет ожидаемого объема данных в сервере DATAPK ITM-VM осуществляется по формуле:</p>
            <p><b>Объем данных БД ITM-VM (Мб) = (Ком*10+Кс*1*Кд+Ксв*7168)/1024</b>, где:</p>
        </section>
        <ul id="ul_yxr_ps3_2tb">
            <li><b>Ком</b> - количество ОМ. Суммарное количество ОМ, полученных изо всех
                подключенных серверов DATAPK ITM-K.</li>
            <li><b>Кc</b> - количество событий о проблемах ОМ, получаемых из серверов DATAPK ITM-K в сутки.
                В нормально функционирующих системах, количеством проблем бывает около 2% от общего
                количества ОМ, однако по каждой проблеме может быть множество событий. Для
                предварительного расчета проектируемой системы рекомендуется считать <b>Кс=Ком</b>. В
                процессе эксплуатации конкретной системы значение может быть уточнено на основе
                фактической статистики.</li>
            <li><b>Кд</b> - количество дней хранения истории событий в серверах мониторинга. По
                умолчанию, история событий о проблемах ОМ в серверах мониторинга хранится 180
                дней.</li>
            <li><b>Ксв</b> - количество подключенных серверов мониторинга DATAPK ITM-K.</li>
        </ul>
        <p><b>Пример расчета:</b></p>
        <p>Количество ОМ = 1500. Количество подключенных
            серверов мониторинга DATAPK ITM-K = 50. Хранение истории
            событий в серверах мониторинга DATAPK ITM-K = 180 дней
            (значение по умолчанию).</p>
        <p><b>(1500*10+1500*1*180+100*7168)/1024 = 978,3 Мб</b></p>
        <p>Итого, ожидаемый объем данных в БД сервера = 978,3 Мб</p>
        
        
    </body>
</topic>
