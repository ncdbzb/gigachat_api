<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE troubleshooting PUBLIC "-//OASIS//DTD DITA Troubleshooting//EN" "troubleshooting.dtd">
<troubleshooting id="ReusableComponent_fwm_kvc_zwb">
    <title></title>
    <troublebody id="troublebody_gwm_kvc_zwb"><condition><p>При первичном запуске <abbreviated-form keyref="datapk_itm_vm"/> в логах itm_m_zabbix_connector появляется ошибка: «в <codeph conref="../filepath/pg_hba_conf.dita#ReusableComponent_gtb_nxd_yrb/codeph_htb_nxd_yrb"/> нет записи для компьютера "172.15.0.4", пользователя "itmm", базы "postgres", SSL выкл.»</p></condition><troubleSolution><cause><title>Причина</title><p>Нет доступа к базе данных postgres, из-за этого не создаются другие базы данных и не запускается <abbreviated-form keyref="datapk_itm_vm"/>.</p></cause><remedy><title>Способ устранения</title><steps><step><cmd>Добавьте значения postgres в файл <codeph conref="../filepath/pg_hba_conf.dita#ReusableComponent_gtb_nxd_yrb/codeph_htb_nxd_yrb"/>. Для этого:</cmd><substeps><substep conref="open_pg_hba_substep.dita#ReusableComponent_d2g_2qw_gtb/substep_h2g_2qw_gtb"><cmd/></substep><substep conref="find_ipv4_local_connections_substep.dita#ReusableComponent_unf_lqw_gtb/substep_vnf_lqw_gtb"><cmd/></substep><substep><cmd>добавьте в этот раздел строки:</cmd><info><codeblock>host postgres,itmm,user_service,notifier_service,event_sender [имя пользователя] 172.15.0.1/24 md5
host postgres,itmm,user_service,notifier_service,event_sender [имя пользователя] 172.17.0.1/24 md5</codeblock><note type="tip">Значения <codeph>postgres,itmm,user_service,notifier_service,event_sender</codeph> можно заменить на <codeph>all</codeph>. Тогда строки, которые нужно добавить, будут иметь вид:<codeblock>host all [имя пользователя] 172.15.0.1/24 md5
host all [имя пользователя] 172.17.0.1/24 md5</codeblock></note></info></substep><substep conref="save_and_exit.dita#ReusableComponent_n4j_pxx_xrb/substep_p4j_pxx_xrb"><cmd/></substep></substeps></step></steps></remedy></troubleSolution></troublebody>
</troubleshooting>
